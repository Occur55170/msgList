(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51bbc844"],{"17d4":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"memberInfo"},[s("h1",[e._v("會員資料")]),s("div",{staticClass:"memberItem mb-4 pb-3 d-flex flex-wrap align-items-center justify-content-between border-bottom"},[s("h5",{staticClass:"fw-bold mb-2 w-100"},[e._v("使用者姓名:")]),s("span",[e._v(e._s(e.member.name))]),s("button",{on:{click:function(t){return e.openModifyModal("name",e.member.name)}}},[e._v("修改")])]),s("div",{staticClass:"memberItem mb-4 pb-3 d-flex flex-wrap align-items-center justify-content-between border-bottom"},[s("h5",{staticClass:"fw-bold mb-2 w-100"},[e._v("使用者性別:")]),s("span",{directives:[{name:"show",rawName:"v-show",value:"boy"==e.member.male,expression:"member.male == 'boy'"}]},[e._v("男")]),s("span",{directives:[{name:"show",rawName:"v-show",value:"girl"==e.member.male,expression:"member.male == 'girl'"}]},[e._v("女")]),s("button",{on:{click:function(t){return e.openModifyModal("male",e.member.male)}}},[e._v("修改")])]),s("div",{staticClass:"memberItem mb-4 pb-3 d-flex flex-wrap align-items-center justify-content-between border-bottom"},[s("h5",{staticClass:"fw-bold mb-2 w-100"},[e._v("使用者帳號:")]),s("span",[e._v(e._s(e.member.account))]),s("button",{on:{click:function(t){return e.openModifyModal("account",e.member.account)}}},[e._v("修改")])]),s("div",{staticClass:"memberItem mb-4 pb-3 d-flex flex-wrap align-items-center justify-content-between border-bottom"},[s("h5",{staticClass:"fw-bold mb-2 w-100"},[e._v("使用者密碼:")]),s("span",[e._v(e._s(e.member.password))]),s("button",{on:{click:function(t){return e.openModifyModal("password",e.member.password)}}},[e._v("修改")])]),s("div",{staticClass:"memberItem mb-4 pb-3 d-flex flex-wrap align-items-center justify-content-between border-bottom"},[s("h5",{staticClass:"fw-bold mb-2 w-100"},[e._v("使用者信箱:")]),s("span",[e._v(e._s(e.member.email))]),s("button",{on:{click:function(t){return e.openModifyModal("email",e.member.email)}}},[e._v("修改")])]),s("div",{staticClass:"memberItem mb-4 pb-3 d-flex flex-wrap align-items-center justify-content-between border-bottom"},[s("h5",{staticClass:"fw-bold mb-2 w-100"},[e._v("註冊日期:")]),s("span",[e._v(e._s(e.member.signDate))])]),s("div",{staticClass:"memberItem mb-4 pb-3 d-flex flex-wrap align-items-center justify-content-between border-bottom"},[s("h5",{staticClass:"fw-bold mb-2 w-100"},[e._v("使用者編號:")]),s("span",[e._v(e._s(e.member.memberID))])]),s("div",[s("h5",{staticClass:"fw-bold mb-2 w-100"},[e._v("收藏文章:")]),s("ul",e._l(e.member.collect,(function(t,a){return s("li",{key:a},[s("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.pushArticle(t.Aid)}}},[e._v(e._s(t.title))])])})),0)]),s("div",{ref:"modifyModal",staticClass:"modal fade",attrs:{id:"modifyModal"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title font-weight-bold"},[e._v("修改"+e._s(e.modify.item))]),s("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),s("div",{staticClass:"modal-body px-5 py-3"},["性別"!==e.modify.item?s("div",{staticClass:"mb-3"},[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"oldItemName",attrs:{for:"account"}},[e._v("舊"+e._s(e.modify.item))]),s("span",[e._v(e._s(e.modify.old))])]),s("label",{staticClass:"newItemName",attrs:{for:"mItem"}},[e._v("新"+e._s(e.modify.item))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.modify.new,expression:"modify.new"}],staticClass:"newItemInput",attrs:{type:"text",id:"mItem",name:e.modify.item,placeholder:"請輸入新"+e.modify.item,required:"",maxlength:"20"},domProps:{value:e.modify.new},on:{input:function(t){t.target.composing||e.$set(e.modify,"new",t.target.value)}}})]):e._e(),"性別"==e.modify.item?s("div",[s("div",{staticClass:"mb-3"},[s("label",{staticClass:"oldItemName",attrs:{for:"account"}},[e._v("原"+e._s(e.modify.item))]),s("span",{directives:[{name:"show",rawName:"v-show",value:"boy"==e.modify.old,expression:"modify.old == 'boy'"}]},[e._v("男")]),s("span",{directives:[{name:"show",rawName:"v-show",value:"girl"==e.modify.old,expression:"modify.old == 'girl'"}]},[e._v("女")])]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.modify.new,expression:"modify.new"}],attrs:{type:"radio",value:"boy"},domProps:{checked:e._q(e.modify.new,"boy")},on:{change:function(t){return e.$set(e.modify,"new","boy")}}}),e._v("男\n            ")]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.modify.new,expression:"modify.new"}],attrs:{type:"radio",value:"girl"},domProps:{checked:e._q(e.modify.new,"girl")},on:{change:function(t){return e.$set(e.modify,"new","girl")}}}),e._v("女\n            ")])]):e._e()]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"submit",disabled:""==e.modify.new},on:{click:e.enterModifyModal}},[e._v("確認")])])])])])])},o=[],i=(s("55dd"),s("7b17")),m={name:"memberInfo",data:function(){return{memberID:"",modify:{sort:"",item:"",old:"",new:""},member:{male:""}}},props:["userID"],methods:{getMember:function(e){var t=this;t.$store.dispatch("upadateisLoad",!0);var s="".concat("https://script.google.com/macros/s/AKfycbxC36tZ_3eyRxWWe-QCJmkXlquPFCj_305fY-ZsgP8BLT-K0ECQZF5d9tH7-AQ6FzHj/exec"),a=JSON.stringify({userID:e,type:"getMember"});t.$http.post(s,a).then((function(e){e.data.success?e.data.userStatus&&""!==t.userID?(t.member=e.data.userData,t.member.collect=JSON.parse(e.data.userData.collect),t.$store.dispatch("upadateisLoad",!1)):(alert(e.data.message),t.$router.push("/"),t.$store.dispatch("upadateisLoad",!1)):t.$store.dispatch("upadateisLoad",!1)}))},pushArticle:function(e){this.$router.push("/articleCon/".concat(e))},openModifyModal:function(e,t){switch(this.modify.sort=e,this.modify.new="",this.modal=new i["a"](this.$refs.modifyModal),e){case"name":this.modify.item="姓名";break;case"male":this.modify.new=t,this.modify.item="性別";break;case"account":this.modify.item="帳號";break;case"password":this.modify.item="密碼";break;case"email":this.modify.item="信箱";break;default:alert("系統錯誤，請重新操作")}this.modify.old=t,this.modal.show()},enterModifyModal:function(){var e=this,t=this;t.$store.dispatch("upadateisLoad",!0);var s="https://script.google.com/macros/s/AKfycbz3iOitzTsNhaBrxIc6K3w94dzCEF_w3ptmVxv2InhPbWCx6PHYz6pwCVS5OE5KrXQI/exec",a=JSON.stringify({memberID:t.member.memberID,type:"modify",sort:t.modify.sort,newData:t.modify.new});t.$http.post(s,a).then((function(s){if(s.data.success){var a=s.data.message,o="success";t.$store.dispatch("messageModules/updateMessage",{message:a,success:o}),t.modal.hide(),t.userMode="loginIn",t.getMember(e.userID)}else t.$store.dispatch("upadateisLoad",!1)}))}},created:function(){this.getMember(this.$route.params.id)}},n=m,r=(s("8aa6"),s("2877")),d=Object(r["a"])(n,a,o,!1,null,"808d2a4a",null);t["default"]=d.exports},"2f21":function(e,t,s){"use strict";var a=s("79e5");e.exports=function(e,t){return!!e&&a((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},"33a5":function(e,t,s){},"55dd":function(e,t,s){"use strict";var a=s("5ca1"),o=s("d8e8"),i=s("4bf8"),m=s("79e5"),n=[].sort,r=[1,2,3];a(a.P+a.F*(m((function(){r.sort(void 0)}))||!m((function(){r.sort(null)}))||!s("2f21")(n)),"Array",{sort:function(e){return void 0===e?n.call(i(this)):n.call(i(this),o(e))}})},"8aa6":function(e,t,s){"use strict";s("33a5")}}]);
//# sourceMappingURL=chunk-51bbc844.8cfa60ad.js.map